{% extends "base.html" %}
{% block title %}Profile{% endblock %}
{% block content %}
<div class="card p-4 shadow-sm mx-auto" style="max-width: 500px;">
  <h3 class="mb-4">ðŸ‘¤ Your Profile</h3>

  <form method="POST" enctype="multipart/form-data">
    <div class="text-center mb-4">
      <!-- Avatar Display -->
      {% if current_user.avatar %}
        <img src="{{ url_for('static', filename='avatars/' + current_user.avatar) }}?v={{ current_user.id }}" 
             class="rounded-circle" width="100" height="100">
      {% else %}
        <img src="{{ avatars.default() }}" class="rounded-circle" width="100" height="100">
      {% endif %}
  
      <!-- Upload Button -->
      <div class="mt-3">
        <input type="file" id="avatarUpload" name="avatar" accept="image/*" class="d-none">
        <label for="avatarUpload" class="btn btn-sm btn-outline-secondary">
          <i class="bi bi-camera"></i> Change Avatar
        </label>
      </div>
    </div>
  
    <!-- Display Name Field -->
    <div class="mb-3">
      <label for="display_name" class="form-label">Display Name</label>
      <input type="text" class="form-control" name="display_name" value="{{ current_user.display_name }}" required>
    </div>
  
    <button type="submit" class="btn btn-primary">Save Changes</button>
  </form>
</div>
{% endblock %}
